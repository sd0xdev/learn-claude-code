═══════════════════════════════════════════════════════════════════
課程 08：建立技能
═══════════════════════════════════════════════════════════════════

每次你在地牢遊戲中新增角色時，都要輸入一樣的指令：詢問個性、知識、位置、招呼語，存到正確的檔案。技能讓你只需要寫一次這些指令。Claude 會在相關時自動套用——或者你也可以用 `/skill-name` 手動呼叫。

## 為什麼要使用技能

沒有技能的話，你得重複自己：

> 「新增一個巫師。詢問我個性、知識、位置、招呼語。存到 data/characters.json。」

有了技能，你只需要說：

> 「在寶藏室新增一個巫師。」

Claude 會辨識出這個任務符合你的 `add-character` 技能，載入它，然後照著你的指令執行。

## 技能的結構

**前置資料** — 在 `---` 行之間的中繼資料：

- `name` — 技能名稱（例如 `add-character`）
- `description` — 告訴 Claude 何時自動使用這個技能
- `argument-hint` — 手動呼叫時的佔位文字

**主體** — Claude 遵循的提示。使用 `$ARGUMENTS` 代入使用者的輸入。

```markdown
---
name: add-character
description: 為地下城遊戲新增 NPC
argument-hint: "<角色名稱>"
---

為地下城遊戲建立一個名為 $ARGUMENTS 的新 NPC。

詢問使用者：

- 個性（2-3 個特質）
- 知識（他們對地下城了解什麼？）
- 位置（他們在哪個房間？）
- 招呼語（第一次對話時說什麼）

存到 dungeon/data/characters.json。
```

## 技能的存放位置

- `.claude/skills/` — 專案層級
- `~/.claude/skills/` — 全域（所有專案）

## 動手試試

1. 請 Claude 建立技能：

   > 在 .claude/skills/add-character/SKILL.md 建立一個 Claude Code 技能，用來為地下城遊戲新增 NPC。它應該詢問個性、知識、位置和招呼語，然後存到 data/characters.json。
   >
   > - 它也應該在 ui/portraits.js 為角色建立像素圖。
   > - 進入房間時，如果角色在場，應該在 Portrait Display 區塊顯示角色名稱、肖像和描述。

2. 測試自動呼叫——只需描述你想要的：

   > 在秘密花園新增一個巫師角色。他應該很有智慧，引導玩家前往寶藏室。

3. 在繼續之前，讓我們啟用對話按鈕，這樣就能和角色互動：

   > 當房間有角色時，啟用 Actions Section 中的 Talk Button。
